$(function(){
  $("#pieChart").drawPieChart([
    { title: "Chrome",    value : 59,  color: "antiquewhite" },
    { title: "Safari",    value:  14.5,   color: "darkgrey" },
    { title: "Firefox",   value : 9.3,   color: "slategrey" },
    { title: "IE / Edge", value:  8,   color: "silver" },
    { title: "Opera",     value : 4,   color: "navajowhite" },
  ]);
});

// jQuery.drawChart.min.js
!function(t,e){t.fn.drawPieChart=function(e,i){var a,n=this,s=n.width(),o=n.height(),r=s/2,l=o/2,u=Math.cos,c=Math.sin,p=Math.PI,f=t.extend({segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:1,baseColor:"#fff",baseOffset:13,edgeOffset:20,pieSegmentGroupClass:"pieSegmentGroup",pieSegmentClass:"pieSegment",lightPiesOffset:12,lightPiesOpacity:.1,lightPieClass:"lightPie",animation:!0,animationSteps:90,animationEasing:"easeInOutExpo",tipOffsetX:-15,tipOffsetY:-45,tipClass:"pieTip",beforeDraw:function(){},afterDrawed:function(){},onPieMouseenter:function(t,e){},onPieMouseleave:function(t,e){},onPieClick:function(t,e){}},i),g=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},m=t('<svg width="'+s+'" height="'+o+'" viewBox="0 0 '+s+" "+o+'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"></svg>').appendTo(n),h=[],d=[],w=[],v={linear:function(t){return t},easeInOutExpo:function(t){var e=t<.5?8*t*t*t*t:1-8*--t*t*t*t;return e>1?1:e}}[f.animationEasing],b=(a=[o/2,s/2],Math.min.apply(null,a)-f.edgeOffset),A=0;f.beforeDraw.call(n);!function(){var e=document.createElementNS("http://www.w3.org/2000/svg","circle");t(e).appendTo(m);e.setAttribute("cx",r),e.setAttribute("cy",l),e.setAttribute("r",b+f.baseOffset),e.setAttribute("fill",f.baseColor)}();var P=document.createElementNS("http://www.w3.org/2000/svg","g"),O=t(P).appendTo(m);O[0].setAttribute("opacity",0);for(var S=t('<div class="'+f.tipClass+'" />').appendTo("body").hide(),k=(S.width(),S.height(),0),y=e.length;k<y;k++){A+=e[k].value;var C=document.createElementNS("http://www.w3.org/2000/svg","g");C.setAttribute("data-order",k),C.setAttribute("class",f.pieSegmentGroupClass),h[k]=t(C).appendTo(O),h[k].on("mouseenter",E).on("mouseleave",T).on("mousemove",q).on("click",F);var x=document.createElementNS("http://www.w3.org/2000/svg","path");x.setAttribute("stroke-width",f.segmentStrokeWidth),x.setAttribute("stroke",f.segmentStrokeColor),x.setAttribute("stroke-miterlimit",2),x.setAttribute("fill",e[k].color),x.setAttribute("class",f.pieSegmentClass),d[k]=t(x).appendTo(h[k]);var M=document.createElementNS("http://www.w3.org/2000/svg","path");M.setAttribute("stroke-width",f.segmentStrokeWidth),M.setAttribute("stroke",f.segmentStrokeColor),M.setAttribute("stroke-miterlimit",2),M.setAttribute("fill",e[k].color),M.setAttribute("opacity",f.lightPiesOpacity),M.setAttribute("class",f.lightPieClass),w[k]=t(M).appendTo(h[k])}function E(i){var a=t(this).data().order;S.text(e[a].title+": "+e[a].value).fadeIn(200),"active"!==h[a][0].getAttribute("data-active")&&w[a].animate({opacity:.8},180),f.onPieMouseenter.apply(t(this),[i,e])}function T(i){var a=t(this).data().order;S.hide(),"active"!==h[a][0].getAttribute("data-active")&&w[a].animate({opacity:f.lightPiesOpacity},100),f.onPieMouseleave.apply(t(this),[i,e])}function q(t){S.css({top:t.pageY+f.tipOffsetY,left:t.pageX-S.width()/2+f.tipOffsetX})}function F(i){var a=t(this).data().order;void 0!==e[a].action&&e[a].action();for(var n=h[a][0],s=0,o=e.length;s<o;s++)s!==a&&(h[s][0].setAttribute("data-active",""),w[s].css({opacity:f.lightPiesOpacity}));"active"===n.getAttribute("data-active")?(n.setAttribute("data-active",""),w[a].css({opacity:.8})):(n.setAttribute("data-active","active"),w[a].css({opacity:1})),f.onPieClick.apply(t(this),[i,e])}function N(t){var i=-p/2,a=1;f.animation&&(a=t),O[0].setAttribute("opacity",t);for(var n=0,s=e.length;n<s;n++){var o=a*(e[n].value/A*(2*p)),g=i+o,m=(g-i)%(2*p)>p?1:0,h=r+u(i)*b,v=l+c(i)*b,P=r+u(g)*b,S=l+c(g)*b,k=r+u(i)*(b+f.lightPiesOffset),y=l+c(i)*(b+f.lightPiesOffset),C=r+u(g)*(b+f.lightPiesOffset),x=l+c(g)*(b+f.lightPiesOffset),M=["M",h,v,"A",b,b,0,m,1,P,S,"L",r,l,"Z"],E=["M",k,y,"A",b+f.lightPiesOffset,b+f.lightPiesOffset,0,m,1,C,x,"L",r,l,"Z"];d[n][0].setAttribute("d",M.join(" ")),w[n][0].setAttribute("d",E.join(" ")),i+=o}}f.animation?g(R):N(1);var D=f.animation?1/f.animationSteps:1,I=f.animation?0:1;function R(){N(v(I+=D)),I<1?g(arguments.callee):f.afterDrawed.call(n)}return n}}(jQuery);